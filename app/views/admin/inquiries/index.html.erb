<!-- app/views/admin/inquiries/index.html.erb -->
<section id="inquiries">
  <h2>お問い合わせ一覧</h2>
  <hr>
  <table class="table table-hover">
    <thead>
      <tr>
        <th>名前</th>
        <th>メール</th>
        <th>送信日時</th>
        <th class="d-none">操作</th> <!-- 非表示 -->
      </tr>
    </thead>
    <tbody>
      <% @inquiries.each do |inquiry| %>
        <tr class="clickable-row" data-href="<%= admin_inquiry_path(inquiry) %>">
          <td><%= inquiry.name %></td>
          <td><%= inquiry.email %></td>
          <td><%= inquiry.created_at.in_time_zone('Asia/Tokyo').strftime("%Y/%m/%d %H:%M") %></td>
          <td class="d-none">
            <%= link_to "詳細", admin_inquiry_path(inquiry), class: "btn btn-sm btn-outline-primary" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // クリック可能な行にイベントリスナーを追加
    const clickableRows = document.querySelectorAll('.clickable-row');
    
    clickableRows.forEach(function(row) {
      row.addEventListener('click', function() {
        const href = this.getAttribute('data-href');
        if (href) {
          window.location.href = href;
        }
      });
      
      // マウスオーバー時にカーソルをポインターに変更
      row.style.cursor = 'pointer';
    });
  });
</script>
